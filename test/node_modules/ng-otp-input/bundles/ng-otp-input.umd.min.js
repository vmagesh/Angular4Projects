!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("ng-otp-input",["exports","@angular/forms","@angular/common","@angular/core"],t):t(e["ng-otp-input"]={},e.ng.forms,e.ng.common,e.ng.core)}(this,function(e,t,o,n){"use strict";var r=(i.prototype.transform=function(e){return Object.keys(e)},i.decorators=[{type:n.Pipe,args:[{name:"keys"}]}],i);function i(){}var s=(p.prototype.ngOnInit=function(){this.otpForm=new t.FormGroup({});for(var e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new t.FormControl);this.inputType=this.getInputType()},p.prototype.ngAfterViewInit=function(){var t=this;if(!this.config.disableAutoFocus){var e=document.getElementById("c_"+this.componentKey);if(e){e.addEventListener("paste",function(e){return t.handlePaste(e)});var o=e.getElementsByClassName("otp-input")[0];o&&o.focus&&o.focus()}}},p.prototype.getControlName=function(e){return"ctrl_"+e},p.prototype.ifLeftArrow=function(e){return this.ifKeyCode(e,37)},p.prototype.ifRightArrow=function(e){return this.ifKeyCode(e,39)},p.prototype.ifBackspaceOrDelete=function(e){return"Backspace"===e.key||"Delete"===e.key||this.ifKeyCode(e,8)||this.ifKeyCode(e,46)},p.prototype.ifKeyCode=function(e,t){return(e.keyCode||e.charCode)==t},p.prototype.onKeyDown=function(e){if(this.ifKeyCode(e,32))return!1},p.prototype.onKeyUp=function(e,t){var o=this.appendKey("otp_"+(t+1)),n=this.appendKey("otp_"+(t-1));if(this.ifRightArrow(e))this.setSelected(o);else if(this.ifLeftArrow(e))this.setSelected(n);else{if(this.ifBackspaceOrDelete(e)&&!e.target.value)return this.setSelected(n),void this.rebuildValue();e.target.value&&(this.ifValidEntry(e)&&this.setSelected(o),this.rebuildValue())}},p.prototype.appendKey=function(e){return e+"_"+this.componentKey},p.prototype.setSelected=function(e){this.focusTo(e);var t=document.getElementById(e);t&&t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(0,1)},0)},p.prototype.ifValidEntry=function(e){var t=String.fromCharCode(e.keyCode);return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(t)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(e.keyCode)||96<=e.keyCode&&e.keyCode<=105},p.prototype.focusTo=function(e){var t=document.getElementById(e);t&&t.focus()},p.prototype.setValue=function(e){var o=this;if(!this.config.allowNumbersOnly||!isNaN(e))if(this.otpForm.reset(),e){e=e.toString().replace(/\s/g,""),Array.from(e).forEach(function(e,t){o.otpForm.get(o.getControlName(t))&&o.otpForm.get(o.getControlName(t)).setValue(e)});var t=document.getElementById("c_"+this.componentKey),n=e.length<this.config.length?e.length:this.config.length-1,r=t.getElementsByClassName("otp-input")[n];r&&r.focus&&r.focus(),this.rebuildValue()}else this.rebuildValue()},p.prototype.rebuildValue=function(){var t=this,o="";this.keysPipe.transform(this.otpForm.controls).forEach(function(e){t.otpForm.controls[e].value&&(o+=t.otpForm.controls[e].value)}),this.onInputChange.emit(o)},p.prototype.getInputType=function(){return this.config.isPasswordInput?"password":this.config.allowNumbersOnly?"tel":"text"},p.prototype.handlePaste=function(e){var t=e.clipboardData||window.clipboardData;if(t)var o=t.getData("Text");e.stopPropagation(),e.preventDefault(),o&&this.setValue(o)},p.decorators=[{type:n.Component,args:[{selector:"ng-otp-input",template:'<div class="wrapper {{config.containerClass}}" id="c_{{componentKey}}" *ngIf="otpForm?.controls"\r\n  [ngStyle]="config.containerStyles">\r\n  <input [pattern]="config.allowNumbersOnly ? \'\\\\d*\' : \'\'" [type]="inputType" numberOnly [placeholder]="config?.placeholder || \'\'"\r\n    [disabledNumberOnly]="!config.allowNumbersOnly" [ngStyle]="config.inputStyles" maxlength="1"\r\n    class="otp-input {{config.inputClass}}" autocomplete="off" *ngFor="let item of otpForm?.controls | keys;let i=index"\r\n    [formControl]="otpForm.controls[item]" id="otp_{{i}}_{{componentKey}}" (keydown)="onKeyDown($event)"\r\n    (keyup)="onKeyUp($event,i)">\r\n</div>',styles:[".otp-input{width:50px;height:50px;border-radius:4px;border:1px solid #c5c5c5;text-align:center;font-size:32px}.wrapper .otp-input:not(:last-child){margin-right:8px}@media screen and (max-width:767px){.otp-input{width:40px;font-size:24px;height:40px}}@media screen and (max-width:420px){.otp-input{width:30px;font-size:18px;height:30px}}"]}]}],p.ctorParameters=function(){return[{type:r}]},p.propDecorators={config:[{type:n.Input}],onInputChange:[{type:n.Output}]},p);function p(e){this.keysPipe=e,this.config={length:4},this.onInputChange=new n.EventEmitter,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}var a=(u.prototype.ngOnInit=function(){this.disabledNumberOnly||this._renderer.setAttribute(this._elRef.nativeElement,"onkeypress","return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 0")},u.decorators=[{type:n.Directive,args:[{selector:"[numberOnly]"}]}],u.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},u.propDecorators={disabledNumberOnly:[{type:n.Input}]},u);function u(e,t){this._elRef=e,this._renderer=t}var c=(l.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule,t.FormsModule,t.ReactiveFormsModule],declarations:[s,r,a],exports:[s],providers:[r]}]}],l);function l(){}e.NgOtpInputModule=c,e.ɵa=s,e.ɵc=a,e.ɵb=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-otp-input.umd.min.js.map